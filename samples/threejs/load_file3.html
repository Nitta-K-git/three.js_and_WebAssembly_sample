<!-- 
    https://hakuhin.jp/js/dialog.html
    https://www.e-loop.jp/knowledges/35/
    load_file2を整理して必要最小限に
 -->

<meta charset="utf-8" />
<html>

<head>
    <meta http-equiv="content-type" charset="utf-8">
</head>

<body>
    <h2>3Dファイルの読み込み・表示</h2>
    <input type="file" id="inputfile" />
    <!--単一のファイルを読み込む場合-->
    <script type="text/javascript">
        var inputfile = document.getElementById('inputfile')

        inputfile.addEventListener("change", function (e) {
            // テキストとして読み込んでログに表示
            var file = e.target.files;
            var arraybuf;


            var reader = new FileReader();
            reader.readAsText(file[0]);
            reader.onload = function (e) {
                // console.log(reader.result);
                var l = reader.result;
                arraybuf = reader.result;
                // console.log(l);
                console.log(arraybuf);
            }

            // ArrayBufferとして読み込み
            // reader.readAsArrayBuffer(file[0]);
            // reader.onload = function () {
            //     console.log(reader.result);
            // }

            
        }, false);
    </script>
</body>

</html>